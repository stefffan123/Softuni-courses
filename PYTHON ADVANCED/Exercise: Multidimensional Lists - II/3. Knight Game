N = int(input())
matrix = []
for i in range(N):
    strings = input()
    matrix.append(list(strings))

counter = 0
attack_number = 0
max_attack = 0
max_point = []
coordinates = [[-1, -2], [-2, -1], [-2, 1], [-1, 2], [1, 2], [2, 1], [2, -1], [1, -2]]
for j in range(N):
    for k in range(len(matrix[j])):
        if matrix[j][k] == "K":
            for m in range(len(coordinates)):
                row = j + coordinates[m][0]
                col = k + coordinates[m][1]
                if row < 0 or col < 0 or row >= N or col >= N or matrix[row][col] == "0":
                    continue
                else:
                    attack_number += 1
            if attack_number > max_attack:
                max_attack = attack_number
                max_point.append(j)
                max_point.append(k)
                counter += 1
                matrix[max_point[0]][max_point[1]] = "0"

        else:
            continue
print(counter)
