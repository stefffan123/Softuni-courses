rows, columns = map(int, input().split())
matrix = []

for _ in range(rows):
    list1 = input().split()
    matrix.append(list1)

command = input()
while command != "END":
    list_command = command.split()
    if len(list_command) == 5:
        row1 = int(list_command[1])
        col1 = int(list_command[2])
        row2 = int(list_command[3])
        col2 = int(list_command[4])
        if list_command[0] != "swap" or row1 > rows or row2 > rows or col1 > columns or col2 > columns:
            print("Invalid input!")
        else:
            swap1 = matrix[row1][col1]
            matrix[row1][col1] = matrix[row2][col2]
            matrix[row2][col2] = swap1
            for row in matrix:
                for element in row:
                    print(element, end=' ')
                print()
    else:
        print("Invalid input!")
    command = input()
